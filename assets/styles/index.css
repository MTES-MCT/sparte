@import '@gouvfr/dsfr/dist/dsfr.min.css';
@import '@gouvfr/dsfr/dist/utility/icons/icons-system/icons-system.min.css';
@import '@gouvfr/dsfr/dist/utility/icons/icons-design/icons-design.min.css';
@import '@gouvfr/dsfr/dist/utility/icons/icons-business/icons-business.min.css';
@import '/assets/styles/map.css';
@import 'maplibre-gl/dist/maplibre-gl.css';


/*
Header logo
*/
.fr-header__operator img {
    height: 54px;
}

/*
Custom tag icon
*/
.custom-tag-icon {
    margin-left: 4px;
}

/*
Fix link icon position
*/
.fr-breadcrumb__link::before,
.fr-link::after {
    position: relative;
    top: 5px;
}

p .fr-link::after {
    top: 0;
}

/*
Fix nav extra margin
*/
.fr-nav__list {
    margin: 0;
}

/*
Header dropdown menu
*/
#menu-mon-compte {
    right: 0px;
    margin: 0;
    padding: 0;
}

/*
Custom dropdown
*/
.custom-dropdown {
    padding: 0;
}

.custom-dropdown .dropdown-menu {
    padding: 0;
    border: none;
    border-radius: 0;
    filter: drop-shadow(var(--overlap-shadow));
}

.custom-dropdown .dropdown-menu>li {
    padding: 0;
}

.custom-dropdown .dropdown-menu .fr-nav__link {
    box-shadow: 0 calc(-1rem - 1px) 0 -1rem var(--border-default-grey);
    padding: 0.75rem 1rem;
    background-image: none;
}

.custom-dropdown .dropdown-menu .fr-nav__link[aria-current]:before {
    left: 0;
}

/*
Graph groups
*/
.graph-group-container>div {
    padding: 2rem 0;
}

.graph-group-container>div:not(:last-child) {
    border-bottom: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color);
}

.graph-group-container>div:first-child {
    padding-top: 0;
}

.graph-group-container>div:last-child {
    padding-bottom: 0;
}

@media (min-width: 62em) {
    .graph-group-container>div {
        border-bottom: none !important;
        padding: 0;
    }

    .graph-group-container>div:not(:last-child) {
        border-right: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important;
    }
}

/*
Loader
*/
.fr-custom-loader {
    margin: 40px auto;
    color: darkblue;
    width: 56px;
    height: 30px;
    --d: radial-gradient(farthest-side, currentColor 90%, #0000);
    background: var(--d), var(--d), var(--d);
    background-size: 14px 14px;
    background-repeat: no-repeat;
    animation: m 1s infinite;
}

.fr-custom-loader-min {
    margin: 40px auto;
    color: darkblue;
    width: 30px;
    height: 12px;
    --d: radial-gradient(farthest-side, currentColor 90%, #0000);
    background: var(--d), var(--d), var(--d);
    background-size: 7px 7px;
    background-repeat: no-repeat;
    animation: m 1s infinite;
}

.fr-custom-loader--button {
    color: darkblue;
    width: 30px;
    height: 12px;
    --d: radial-gradient(farthest-side, currentColor 90%, #0000);
    background: var(--d), var(--d), var(--d);
    background-size: 7px 7px;
    background-repeat: no-repeat;
    animation: m 1s infinite;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
}

@keyframes m {
    0% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    12.5% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    25% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 100%
    }

    37.5% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    50% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    62.5% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    75% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 0
    }

    87.5% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    100% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }
}

/*
Form labels
*/
.control-label {
    color: var(--text-label-grey);
    display: block;
    font-size: 1rem;
    line-height: 1.5rem;
    margin-bottom: 0.5rem;
}

.help-block {
    font-size: .75rem;
    line-height: 1.25rem;
    margin-bottom: 0;
    margin-top: 1rem;
}

form .control-group {
    margin-top: 25px;
}

.fr-select {
    background-size: 1rem 1rem !important;
}

.fr-select.is-invalid {
    box-shadow: inset 0 -2px 0 0 #ce0500;
    box-shadow: inset 0 -2px 0 0 var(--border-plain-error);
    border-color: #ced4da !important;
    background-image: var(--data-uri-svg) !important;
}

.invalid-feedback {
    color: var(--text-default-error);
    align-items: center;
    display: flex;
    flex-direction: row;
    font-size: .75rem;
    line-height: 1.25rem;
    margin-bottom: 0;
    margin-top: 1rem;
}

.invalid-feedback::before {
    -webkit-mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE3LjUgMi41aC0xMUwxIDEybDUuNSA5LjVoMTFMMjMgMTJsLTUuNS05LjV6bS0xLjMgMTIuMy0xLjQgMS40LTIuOC0yLjgtMi44IDIuOC0xLjQtMS40IDIuOC0yLjgtMi44LTIuOCAxLjQtMS40IDIuOCAyLjggMi44LTIuOCAxLjQgMS40LTIuOCAyLjggMi44IDIuOHoiLz48L3N2Zz4=);
    mask-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE3LjUgMi41aC0xMUwxIDEybDUuNSA5LjVoMTFMMjMgMTJsLTUuNS05LjV6bS0xLjMgMTIuMy0xLjQgMS40LTIuOC0yLjgtMi44IDIuOC0xLjQtMS40IDIuOC0yLjgtMi44LTIuOCAxLjQtMS40IDIuOCAyLjggMi44LTIuOCAxLjQgMS40LTIuOCAyLjggMi44IDIuOHoiLz48L3N2Zz4=);
    --icon-size: 1rem;
    background-color: currentColor;
    content: "";
    display: inline-block;
    flex: 0 0 auto;
    height: 1rem;
    height: var(--icon-size);
    margin-right: .25rem;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    vertical-align: calc(.375em - .5rem);
    vertical-align: calc((.75em - var(--icon-size))*.5);
    width: 1rem;
    width: var(--icon-size);
}

/*
Theme map
*/
.theme-map-image-container img {
    width: 100%;
    height: auto;
}

.theme-map-image-container a {
    background-image: none;
}

.theme-map-image-container [target=_blank]:after {
    content: none;
}

/*
Skeleton loader
*/
.skeleton-loader {
    width: 100%;
    height: 100%;
    background-color: #DDDBDD;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

.skeleton-loader::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    transform: translateX(-100%);
    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));
    -webkit-animation: shimmer 2s infinite;
    animation: shimmer 2s infinite;
    content: "";
}

@-webkit-keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}

@keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}

/*
fr Tag success
*/
.fr-tag--success {
    background-color: #b8fec9;
    background-color: var(--background-contrast-success);
    color: #18753c;
    color: var(--text-default-success);
}

.fr-tag--blue {
    --idle: transparent;
    --hover: var(--background-action-low-blue-france-hover);
    --active: var(--background-action-low-blue-france-active);
    background-color: #e3e3fd;
    background-color: var(--background-action-low-blue-france);
    color: #000091;
    color: var(--text-action-high-blue-france);
}


/*
Custom links
*/
.fr-link--text-decoration-none {
    background-image: none;
}

/*
Diagnostic list
*/
#diagnostic-list-empty-message {
    visibility: hidden;
}

/*
HTMX Indicator loader
*/
.htmx-indicator {
    opacity: 0;
    display: none;
    transition: opacity 500ms ease-in;
}

.htmx-request .htmx-indicator, .htmx-request.htmx-indicator {
    opacity: 1;
    display: block;
}

.htmx-request .htmx-indicator-placeholder, .htmx-request.htmx-indicator-placeholder {
    opacity: 0;
    visibility: hidden;
}

/*
Home Page
*/
.section-blue {
    background: rgb(2,0,36);
    background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(118,57,246,1) 0%, rgba(0,101,203,1) 100%);
}

.section-main {
    width: 100%;
    position: relative;
}

.section-main h1 {
    color: white;
}

.section-main form {
    background-color: #fff;
    padding: 4vh 2vw;
    border-radius: 6px;
}

.section-main form p {
    color: var(--text-mention-grey);
}

#hero-anim-map-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
}

#hero-anim-map {
    transform: rotateZ(-23deg);
    position: absolute;
    right: -130px;
    bottom: -18%;
    transition: all 0.4s ease-out;
    -webkit-box-shadow: -4px -1px 11px -2px rgba(0,0,0,0.25);
    box-shadow: -4px -1px 11px -2px rgba(0,0,0,0.25);
}

.section-main:hover #hero-anim-map {
    right: -100px;
    transform: rotateZ(-24deg);
}

@media (max-width: 992px) {
    #hero-anim-map-container  {
        display: none;
    }
}

.section-legal {
    position: relative;
    background-color: #D6FFED;
}

#legal-anim-logo {
    width: 170px;
    height: 170px;
    position: absolute;
    right: 45px;
    bottom: 45px;
    background-image: url('/assets/images/loi-climat-et-resilience.svg');
    background-repeat: no-repeat;
    background-size: auto;
    background-position: bottom 3% right 3%;
}

@media (max-width: 992px) {
    #legal-anim-logo  {
        display: none;
    }
}

/*
Header min version
*/
body.header-min .fr-logo__text {
    display: none;
}

body.header-min .fr-header__logo .fr-logo:after {
    content: none;
}

/*
Page full width
*/
.full-width .fr-container {
    max-width: 100%;
}

/*
Breadcrumb min
*/
.breadcrumb-min .fr-breadcrumb {
    margin: 0.8rem 0;
}

.breadcrumb-min .custom-breadcrumb {
    border-bottom: 1px solid #eaeaea;
}

/*
Table
*/
.table-custom th, .table-custom td {
    white-space: nowrap;
    padding-right: 1rem;
    font-size: 14px;
    max-width: 200px;
}

.table-custom td input.annual-updated {
    background-color: var(--background-action-low-blue-france);
}

/*
Progress bar gradient
*/
.progress-bar-container {
    height: 22px;
    position: relative;
    display: inline-block;
    width: 100%;
    max-width: 60px;
    background: #cecece;
}

.progress-bar-indicator {
    height: 100%;
    -webkit-mask:linear-gradient(#fff 0 0);
        mask:linear-gradient(#fff 0 0);
}

.progress-bar-indicator::before {
    content:"";
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background-image: linear-gradient(to left, #f95c5e 0%, #27a658 100%);
}

.progress-bar-value {
    position: absolute;
    color: #000;
    top: 0;
    font-size: 0.8rem;
    line-height: 1.4rem;
    left: 0;
    font-weight: bold;
    padding: 0 0.3rem;
    text-align: right;
    width: 100%;
}

.progress-bar-container--big {
    height: 32px;
    max-width: 130px;
}

.progress-bar-container--big .progress-bar-value {
    font-size: 1rem;
    line-height: 2rem;
    font-weight: bold;
    padding: 0 0.8rem;
    text-align: left; 
}

/*
Tile
*/
.fr-tile__icon {
    max-width: 40px;
}

/*
Liens
*/
.fr-nav__link--highlight {
    font-weight: 600 !important;
    color: var(--background-action-high-blue-france) !important;
}

.fr-nav__link--highlight[aria-current]:not([aria-current="false"])::before {
    background-color: var(--background-action-high-blue-france) !important;
}

/*
Mise en exergue
*/
.fr-highlight--no-margin {
    margin-left: 0 !important;
}

/*
Utilities
*/
.text-default-success {
    color: var(--text-default-success) !important;
}

.text-default-error {
    color: var(--text-default-error) !important;
}

.w-0 { width: 0% !important; }
.w-1 { width: 1% !important; }
.w-2 { width: 2% !important; }
.w-3 { width: 3% !important; }
.w-4 { width: 4% !important; }
.w-5 { width: 5% !important; }
.w-6 { width: 6% !important; }
.w-7 { width: 7% !important; }
.w-8 { width: 8% !important; }
.w-9 { width: 9% !important; }
.w-10 { width: 10% !important; }
.w-11 { width: 11% !important; }
.w-12 { width: 12% !important; }
.w-13 { width: 13% !important; }
.w-14 { width: 14% !important; }
.w-15 { width: 15% !important; }
.w-16 { width: 16% !important; }
.w-17 { width: 17% !important; }
.w-18 { width: 18% !important; }
.w-19 { width: 19% !important; }
.w-20 { width: 20% !important; }
.w-21 { width: 21% !important; }
.w-22 { width: 22% !important; }
.w-23 { width: 23% !important; }
.w-24 { width: 24% !important; }
.w-25 { width: 25% !important; }
.w-26 { width: 26% !important; }
.w-27 { width: 27% !important; }
.w-28 { width: 28% !important; }
.w-29 { width: 29% !important; }
.w-30 { width: 30% !important; }
.w-31 { width: 31% !important; }
.w-32 { width: 32% !important; }
.w-33 { width: 33% !important; }
.w-34 { width: 34% !important; }
.w-35 { width: 35% !important; }
.w-36 { width: 36% !important; }
.w-37 { width: 37% !important; }
.w-38 { width: 38% !important; }
.w-39 { width: 39% !important; }
.w-40 { width: 40% !important; }
.w-41 { width: 41% !important; }
.w-42 { width: 42% !important; }
.w-43 { width: 43% !important; }
.w-44 { width: 44% !important; }
.w-45 { width: 45% !important; }
.w-46 { width: 46% !important; }
.w-47 { width: 47% !important; }
.w-48 { width: 48% !important; }
.w-49 { width: 49% !important; }
.w-50 { width: 50% !important; }
.w-51 { width: 51% !important; }
.w-52 { width: 52% !important; }
.w-53 { width: 53% !important; }
.w-54 { width: 54% !important; }
.w-55 { width: 55% !important; }
.w-56 { width: 56% !important; }
.w-57 { width: 57% !important; }
.w-58 { width: 58% !important; }
.w-59 { width: 59% !important; }
.w-60 { width: 60% !important; }
.w-61 { width: 61% !important; }
.w-62 { width: 62% !important; }
.w-63 { width: 63% !important; }
.w-64 { width: 64% !important; }
.w-65 { width: 65% !important; }
.w-66 { width: 66% !important; }
.w-67 { width: 67% !important; }
.w-68 { width: 68% !important; }
.w-69 { width: 69% !important; }
.w-70 { width: 70% !important; }
.w-71 { width: 71% !important; }
.w-72 { width: 72% !important; }
.w-73 { width: 73% !important; }
.w-74 { width: 74% !important; }
.w-75 { width: 75% !important; }
.w-76 { width: 76% !important; }
.w-77 { width: 77% !important; }
.w-78 { width: 78% !important; }
.w-79 { width: 79% !important; }
.w-80 { width: 80% !important; }
.w-81 { width: 81% !important; }
.w-82 { width: 82% !important; }
.w-83 { width: 83% !important; }
.w-84 { width: 84% !important; }
.w-85 { width: 85% !important; }
.w-86 { width: 86% !important; }
.w-87 { width: 87% !important; }
.w-88 { width: 88% !important; }
.w-89 { width: 89% !important; }
.w-90 { width: 90% !important; }
.w-91 { width: 91% !important; }
.w-92 { width: 92% !important; }
.w-93 { width: 93% !important; }
.w-94 { width: 94% !important; }
.w-95 { width: 95% !important; }
.w-96 { width: 96% !important; }
.w-97 { width: 97% !important; }
.w-98 { width: 98% !important; }
.w-99 { width: 99% !important; }
.w-100 { width: 100% !important; }


.local-report-download-btn {
    position: sticky;
    top: 90vh;
    z-index: 10;
    font-weight: bold;
}

@media (min-width: 992px) {
    .local-report-download-btn  {
        left: 50%;
        transform: translateX(-50%);
    }
}
