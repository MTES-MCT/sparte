@import '@gouvfr/dsfr/dist/dsfr.min.css';
@import '@gouvfr/dsfr/dist/utility/icons/icons-system/icons-system.min.css';
@import '@gouvfr/dsfr/dist/utility/icons/icons-design/icons-design.min.css';

/*
Fix link icon position
*/
.fr-breadcrumb__link::before,
.fr-link::after {
    position: relative;
    top: 5px;
}

/*
Fix nav extra margin
*/
.fr-nav__list {
    margin: 0;
}

/*
Custom dropdown
*/
.custom-dropdown {
    padding: 0;
}

.custom-dropdown .dropdown-menu {
    padding: 0;
    border: none;
    border-radius: 0;
    filter: drop-shadow(var(--overlap-shadow));
}

.custom-dropdown .dropdown-menu>li {
    padding: 0;
}

.custom-dropdown .dropdown-menu .fr-nav__link {
    box-shadow: 0 calc(-1rem - 1px) 0 -1rem var(--border-default-grey);
    padding: 0.75rem 1rem;
    background-image: none;
}

.custom-dropdown .dropdown-menu .fr-nav__link[aria-current]:before {
    left: 0;
}

/*
Graph groups
*/
.graph-group-container>div {
    padding: 2rem 0;
}

.graph-group-container>div:not(:last-child) {
    border-bottom: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color);
}

.graph-group-container>div:first-child {
    padding-top: 0;
}

.graph-group-container>div:last-child {
    padding-bottom: 0;
}

@media (min-width: 62em) {
    .graph-group-container>div {
        border-bottom: none !important;
        padding: 0;
    }

    .graph-group-container>div:not(:last-child) {
        border-right: var(--bs-border-width) var(--bs-border-style) var(--bs-border-color) !important;
    }
}

/*
Loader
*/
.fr-custom-loader {
    margin: 40px auto;
    color: darkblue;
    width: 56px;
    height: 30px;
    --d: radial-gradient(farthest-side, currentColor 90%, #0000);
    background: var(--d), var(--d), var(--d);
    background-size: 14px 14px;
    background-repeat: no-repeat;
    animation: m 1s infinite;
}

@keyframes m {
    0% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    12.5% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    25% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 100%
    }

    37.5% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    50% {
        background-position: calc(0*100%/2) 0, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    62.5% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 0, calc(2*100%/2) 0
    }

    75% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 0
    }

    87.5% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }

    100% {
        background-position: calc(0*100%/2) 100%, calc(1*100%/2) 100%, calc(2*100%/2) 100%
    }
}

/*
Form labels
*/
.control-label {
    color: var(--text-label-grey);
    display: block;
    font-size: 1rem;
    line-height: 1.5rem;
    margin-bottom: 0.5rem;
}

.help-block {
    font-size: .75rem;
    line-height: 1.25rem;
    margin-bottom: 0;
    margin-top: 1rem;
}

form .control-group {
    margin-top: 25px;
}

/*
Theme map
*/
.theme-map-image-container img {
    width: 100%;
    height: auto;
}

.theme-map-image-container a {
    background-image: none;
}

.theme-map-image-container [target=_blank]:after {
    content: none;
}

/*
Skeleton loader
*/
.skeleton-loader {
    width: 100%;
    height: 100%;
    background-color: #DDDBDD;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

.skeleton-loader::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    transform: translateX(-100%);
    background-image: linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0.2) 20%, rgba(255, 255, 255, 0.5) 60%, rgba(255, 255, 255, 0));
    -webkit-animation: shimmer 2s infinite;
    animation: shimmer 2s infinite;
    content: "";
}

@-webkit-keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}

@keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}