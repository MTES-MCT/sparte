models:
  - name: matomo_log_visit
    columns:
      - name: idvisit
        description: A unique identifier for each visit session. This ID is generated by Matomo and is used to track individual sessions within the analytics system.
        data_type: bigint
        data_tests:
          - unique
          - not_null
      - name: idsite
        description: The unique identifier for the website being tracked. This ID corresponds to a specific site configured in Matomo.
        data_type: integer
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 17
              max_value: 17
      - name: idvisitor
        description: A unique identifier for the visitor, typically derived from a hash of the visitor's information. This ID is used to distinguish individual users across sessions.
        data_type: bytea
      - name: visit_last_action_time
        description: The timestamp of the last action performed during the visit. This column is useful for tracking the end time of a user's session and analyzing session duration.
        data_type: timestamp with time zone
      - name: config_id
        description: A unique identifier generated based on the visitor's configuration settings, such as browser and device details. This column helps in distinguishing visitors and analyzing their technical profiles.
        data_type: bytea
      - name: location_ip
        description: The IP address of the visitor during the session. This column is used for geolocation analysis and identifying the origin of the traffic.
        data_type: bytea
      - name: profilable
        description: Indicates whether the visitor's data can be profiled. This column is typically used to determine if the visitor's actions and attributes can be analyzed for insights or personalization purposes.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: user_id
        description: Represents the unique identifier for the user. This column is used to associate visits and actions with a specific user across sessions.
        data_type: character varying
      - name: visit_first_action_time
        description: Records the timestamp of the first action performed by the visitor during the visit. This column is useful for tracking the start time of a session and analyzing visitor behavior from the beginning of their interaction.
        data_type: timestamp with time zone
      - name: visit_goal_buyer
        description: Indicates whether the visitor is classified as a buyer based on their interaction with predefined goals. A value of 1 typically represents a buyer, while 0 represents a non-buyer.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: visit_goal_converted
        description: Specifies whether the visitor successfully converted a predefined goal during their visit. A value of 1 indicates a successful conversion, while 0 indicates no conversion.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: visitor_returning
        description: Denotes whether the visitor is a returning user. A value of 1 signifies a returning visitor, while 0 indicates a new visitor.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: visitor_seconds_since_first
        description: The number of seconds elapsed since the visitor's first recorded interaction. This column helps track the duration between the initial visit and the current session, providing insights into visitor engagement over time.
        data_type: integer
      - name: visitor_seconds_since_order
        description: The number of seconds elapsed since the visitor's last recorded order. This column is useful for analyzing the time gap between purchases or interactions related to orders.
        data_type: integer
      - name: visitor_count_visits
        description: The total number of visits recorded for the visitor. This column provides a count of how many times the visitor has interacted with the site, enabling analysis of repeat visitor behavior.
        data_type: integer
      - name: visit_entry_idaction_name
        description: The identifier for the name of the action that initiated the visit. This typically corresponds to the first interaction or page view recorded during the session.
        data_type: integer
      - name: visit_entry_idaction_url
        description: The identifier for the URL of the action that initiated the visit. This represents the entry point URL where the session began.
        data_type: integer
      - name: visit_exit_idaction_name
        description: The identifier for the name of the action that concluded the visit. This typically corresponds to the last interaction or page view recorded during the session.
        data_type: integer
      - name: visit_exit_idaction_url
        description: The URL associated with the last action taken by the visitor during their session. This column is useful for tracking the final page or resource accessed before the visitor exited the site.
        data_type: integer
      - name: visit_total_actions
        description: The total number of actions performed by the visitor during their session. Actions can include page views, downloads, clicks, or other tracked interactions.
        data_type: integer
      - name: visit_total_interactions
        description: The total count of interactions recorded for the visitor during their session. This metric encompasses all types of tracked engagements, providing a comprehensive view of visitor activity.
        data_type: integer
      - name: visit_total_searches
        description: The total number of searches performed by the visitor during their session. This metric is useful for analyzing user engagement and search behavior within the site.
        data_type: smallint
      - name: referer_keyword
        description: The keyword used by the visitor in a search engine that led them to the site. This column helps in understanding the search terms driving traffic to the site.
        data_type: character varying
      - name: referer_name
        description: The name of the referring entity, such as the search engine or external website, that directed the visitor to the site. This is useful for tracking referral sources and analyzing traffic origins.
        data_type: character varying
      - name: referer_type
        description: Indicates the type of referrer that led the user to the site. Possible values include direct entry, search engine, website, or campaign, which can be used to analyze traffic sources.
        data_type: smallint
      - name: referer_url
        description: The URL of the referring website or page that directed the user to the site. This is useful for tracking external sources of traffic and understanding user navigation paths.
        data_type: character varying
      - name: location_browser_lang
        description: Represents the language setting of the user's browser, typically in ISO 639-1 format (e.g., 'en' for English). This can be used to tailor content or analyze user demographics based on language preferences.
        data_type: character varying
      - name: config_browser_engine
        description: Represents the rendering engine used by the browser, such as WebKit, Gecko, or Blink. This information is useful for understanding compatibility and performance characteristics of the user's browser.
        data_type: character varying
      - name: config_browser_name
        description: Specifies the name of the browser used by the visitor, such as Chrome, Firefox, or Safari. This helps in identifying the browser type for analytics and debugging purposes.
        data_type: character varying
      - name: config_browser_version
        description: Indicates the specific version of the browser used by the visitor. This is critical for tracking browser-specific issues and ensuring compatibility with different browser versions.
        data_type: character varying
      - name: config_client_type
        description: Indicates the type of client accessing the system, such as 'browser', 'mobile app', or 'API client'. This helps in identifying the source of the interaction.
        data_type: smallint
      - name: config_device_brand
        description: Represents the brand of the device used by the visitor, such as 'Apple', 'Samsung', or 'Dell'. Useful for analyzing device-specific trends.
        data_type: character varying
      - name: config_device_model
        description: Specifies the model of the device used by the visitor, such as 'iPhone 13', 'Galaxy S21', or 'XPS 15'. Provides detailed insights into device usage patterns.
        data_type: character varying
      - name: config_device_type
        description: Indicates the type of device used by the visitor, such as desktop, tablet, or mobile. This information is derived from the visitor's user agent string and helps in understanding the device category for analytics purposes.
        data_type: smallint
      - name: config_os
        description: Represents the operating system used by the visitor, such as Windows, macOS, Linux, Android, or iOS. This data is extracted from the user agent string and is useful for analyzing platform-specific trends.
        data_type: character varying
      - name: config_os_version
        description: Specifies the version of the operating system used by the visitor, such as Windows 10, macOS 12.0, or Android 11. This information provides more granular insights into the visitor's environment.
        data_type: character varying
      - name: visit_total_events
        description: The total number of events recorded during a visitor's session. This includes all tracked interactions such as clicks, downloads, and other custom events.
        data_type: integer
      - name: visitor_localtime
        description: The local time of the visitor at the moment of their session, based on their device's time settings. Useful for analyzing user behavior across different time zones.
        data_type: time without time zone
      - name: visitor_seconds_since_last
        description: The number of seconds elapsed since the visitor's last recorded session. This metric helps in understanding the frequency of user visits and engagement patterns.
        data_type: integer
      - name: config_resolution
        description: Represents the screen resolution of the user's device, typically in the format 'width x height'. This data is useful for analyzing user experience and optimizing content for different screen sizes.
        data_type: character varying
      - name: config_cookie
        description: Indicates whether cookies are enabled in the user's browser. A value of '1' means cookies are enabled, while '0' means they are disabled. This is important for tracking user sessions and preferences.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_flash
        description: Specifies whether Adobe Flash is installed and enabled in the user's browser. A value of '1' means Flash is enabled, while '0' means it is not. This information is relevant for understanding compatibility with Flash-based content.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_java
        description: Indicates whether the Java plugin is enabled in the visitor's browser configuration. This can be useful for understanding compatibility with Java-based web applications.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_pdf
        description: Specifies whether the PDF plugin is enabled in the visitor's browser configuration. This helps identify if the user can view PDF files directly within their browser.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_quicktime
        description: Denotes whether the QuickTime plugin is enabled in the visitor's browser configuration. This is relevant for determining support for QuickTime media playback.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_realplayer
        description: Indicates whether the RealPlayer plugin is installed and enabled in the visitor's browser. This can be used to understand the compatibility of the user's environment with multimedia content requiring RealPlayer.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_silverlight
        description: Indicates whether the Silverlight plugin is installed and enabled in the visitor's browser. This is useful for assessing the user's ability to interact with Silverlight-based applications or media.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: config_windowsmedia
        description: Indicates whether the Windows Media Player plugin is installed and enabled in the visitor's browser. This helps determine the user's capability to play Windows Media content directly in their browser.
        data_type: smallint
        data_tests:
          - dbt_utils.accepted_range:
              min_value: 0
              max_value: 1
      - name: visit_total_time
        description: The total duration of the visit in seconds, calculated from the first action to the last action performed by the visitor during their session.
        data_type: integer
      - name: location_city
        description: The city associated with the visitor's IP address, determined through geolocation services.
        data_type: character varying
      - name: location_country
        description: The country associated with the visitor's IP address, determined through geolocation services.
        data_type: character varying
      - name: location_latitude
        description: The latitude coordinate of the visitor's location, represented as a decimal value. This data is typically derived from the visitor's IP address and provides geographic positioning for analytics purposes.
        data_type: numeric
      - name: location_longitude
        description: The longitude coordinate of the visitor's location, represented as a decimal value. Similar to latitude, this data is obtained from the visitor's IP address and is used for geographic analysis.
        data_type: numeric
      - name: location_region
        description: The region or state associated with the visitor's location. This value is determined based on the visitor's IP address and can be used for regional segmentation in analytics.
        data_type: character varying
      - name: last_idlink_va
        description: Represents the ID of the last action link associated with the visitor during their session. This is useful for tracking the final interaction or event before the session ended.
        data_type: bigint
      - name: custom_dimension_1
        description: A user-defined field that can store additional metadata or attributes about the visitor or session. The specific use case depends on the implementation and configuration in Matomo.
        data_type: character varying
      - name: custom_dimension_2
        description: Another user-defined field similar to custom_dimension_1, allowing for the storage of supplementary data or characteristics related to the visitor or session. Its purpose is determined by the Matomo setup.
        data_type: character varying
      - name: custom_dimension_3
        description: Represents the third custom dimension defined in the Matomo analytics platform. This column is used to store additional metadata or attributes associated with a visit, which can be configured based on specific business requirements.
        data_type: character varying
      - name: custom_dimension_4
        description: Represents the fourth custom dimension defined in the Matomo analytics platform. This column allows for the storage of user-defined data points that provide further context or segmentation for visitor analytics.
        data_type: character varying
      - name: custom_dimension_5
        description: Represents the fifth custom dimension defined in the Matomo analytics platform. It is designed to capture custom attributes or metrics that are tailored to the needs of the organization for advanced reporting and analysis.
        data_type: character varying
